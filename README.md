# üöÄ Ubuntu Server Automation Suite

–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –Ω–∞–±–æ—Ä —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —É–∫—Ä–µ–ø–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Ubuntu Server.

## üìã –°–æ—Å—Ç–∞–≤ –ø–∞–∫–µ—Ç–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
- `setup-wizard.sh` - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –º–∞—Å—Ç–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- `main-setup.sh` - –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- `ssh-hardening.sh` - –£—Å–∏–ª–µ–Ω–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- `security-firewall.sh` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞ –∏ —Å–∏—Å—Ç–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```
ubuntu-automation/
‚îú‚îÄ‚îÄ setup-wizard.sh          # –ì–ª–∞–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –º–∞—Å—Ç–µ—Ä
‚îú‚îÄ‚îÄ main-setup.sh            # –û—Å–Ω–æ–≤–Ω–æ–π orchestrator
‚îú‚îÄ‚îÄ ssh-hardening.sh         # SSH –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
‚îú‚îÄ‚îÄ security-firewall.sh     # –§–∞–π—Ä–≤–æ–ª –∏ –∑–∞—â–∏—Ç–∞
‚îú‚îÄ‚îÄ README.md                # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ configs/                 # –ì–æ—Ç–æ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
    ‚îú‚îÄ‚îÄ ufw-rules.conf
    ‚îú‚îÄ‚îÄ fail2ban-custom.conf
    ‚îî‚îÄ‚îÄ ssh-hardened.conf
```

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ–º—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã (90%)
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã** - –ø–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤
- **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤** - —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–∞–∫–µ—Ç—ã
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ hostname –∏ timezone** - —Å–∏—Å—Ç–µ–º–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **SSH —Å–µ—Ä–≤–µ—Ä** - –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **–§–∞–π—Ä–≤–æ–ª UFW** - –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **Fail2Ban** - –∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å –∞—Ç–∞–∫
- **–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - —Å –ø—Ä–∞–≤–∞–º–∏ sudo
- **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** - –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - —Å–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π

### üîí –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **SSH Hardening** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
- **UFW Firewall** - –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
- **Fail2Ban** - –∑–∞—â–∏—Ç–∞ –æ—Ç –∞—Ç–∞–∫
- **ClamAV** - –∞–Ω—Ç–∏–≤–∏—Ä—É—Å —Å –∞–≤—Ç–æ—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **AIDE** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ñ–∞–π–ª–æ–≤
- **Auditd** - —Å–∏—Å—Ç–µ–º–∞ –∞—É–¥–∏—Ç–∞
- **Rootkit Protection** - rkhunter + chkrootkit
- **PSAD** - –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Ä—Ç–æ–≤
- **System Hardening** - —É–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —è–¥—Ä–∞

### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞
- –ü–µ—Ä–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
- –ü–µ—Ä–µ–¥–∞—á–∞ SSH-–∫–ª—é—á–µ–π
- –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞
- –í—ã–±–æ—Ä –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
```bash
# –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ –º–∞—Å—Ç–µ—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
wget -O setup-wizard.sh https://raw.githubusercontent.com/your-repo/setup-wizard.sh
chmod +x setup-wizard.sh
sudo ./setup-wizard.sh
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
```bash
# 1. –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã
sudo ./main-setup.sh

# 2. –£—Å–∏–ª–µ–Ω–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ SSH
sudo ./ssh-hardening.sh interactive

# 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —Ñ–∞–π—Ä–≤–æ–ª–∞
sudo ./security-firewall.sh interactive
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
```bash
# –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –Ω–∞ –ø–æ—Ä—Ç—É 2222 –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è myuser
sudo ./ssh-hardening.sh quick 2222 myuser

# –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞ —Å HTTP/HTTPS
sudo ./security-firewall.sh firewall 2222 http,https
```

## üìñ –ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

### Setup Wizard (–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–±)

```bash
sudo ./setup-wizard.sh
```

**–ß—Ç–æ –æ–Ω –¥–µ–ª–∞–µ—Ç:**
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã
2. –°–æ–∑–¥–∞–µ—Ç —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
3. –°–æ–±–∏—Ä–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∂–µ–ª–∞–µ–º—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
4. –ó–∞–ø—É—Å–∫–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É
5. –°–æ–∑–¥–∞–µ—Ç –æ—Ç—á–µ—Ç –æ –ø—Ä–æ–¥–µ–ª–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–µ

**–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- Hostname —Å–µ—Ä–≤–µ—Ä–∞
- –í—Ä–µ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞
- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- SSH –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–ø–æ—Ä—Ç, –∫–ª—é—á–∏)
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞–∫–µ—Ç—ã

### SSH Hardening

```bash
# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
sudo ./ssh-hardening.sh interactive

# –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
sudo ./ssh-hardening.sh quick [PORT] [USERNAME]

# –ê—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ SSH
sudo ./ssh-hardening.sh audit

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
sudo ./ssh-hardening.sh info
```

**–§—É–Ω–∫—Ü–∏–∏ SSH Hardening:**
- –û—Ç–∫–ª—é—á–µ–Ω–∏–µ root –¥–æ—Å—Ç—É–ø–∞
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤
- –î–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ IP (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### Security & Firewall

```bash
# –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
sudo ./security-firewall.sh interactive

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ–ª—å–∫–æ —Ñ–∞–π—Ä–≤–æ–ª–∞
sudo ./security-firewall.sh firewall [SSH_PORT] [SERVICES]

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ–ª—å–∫–æ Fail2Ban
sudo ./security-firewall.sh fail2ban [SSH_PORT]

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
sudo ./security-firewall.sh status
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
- **UFW** - –ø—Ä–æ—Å—Ç–æ–π —Ñ–∞–π—Ä–≤–æ–ª —Å —É–º–Ω—ã–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏
- **Fail2Ban** - –∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å –∞—Ç–∞–∫
- **ClamAV** - –∞–Ω—Ç–∏–≤–∏—Ä—É—Å —Å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–º —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **AIDE** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —Ñ–∞–π–ª–æ–≤
- **Auditd** - —Å–∏—Å—Ç–µ–º–∞ –∞—É–¥–∏—Ç–∞ —Å–æ–±—ã—Ç–∏–π
- **rkhunter/chkrootkit** - –∑–∞—â–∏—Ç–∞ –æ—Ç rootkit
- **PSAD** - –¥–µ—Ç–µ–∫—Ç–æ—Ä —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Ä—Ç–æ–≤
- **System Hardening** - —É–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# SSH –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
export SSH_PORT=2222
export SSH_USER=myuser
export DISABLE_PASSWORD_AUTH=yes

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
export INSTALL_CLAMAV=yes
export SETUP_AIDE=yes
export ENABLE_2FA=no

# –°–µ—Ä–≤–∏—Å—ã
export ALLOWED_SERVICES="http,https,dns"
```

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `/tmp/setup-vars` —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:
```bash
SERVER_HOSTNAME="my-server"
TIMEZONE="Europe/Moscow"
USERNAME="admin"
SSH_PORT="2222"
DISABLE_PASSWORD_AUTH="yes"
INSTALL_BASIC_TOOLS="yes"
INSTALL_DOCKER="yes"
```

## üìä –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
- **–ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 02:00** - ClamAV —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 03:00** - AIDE –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏
- **–ö–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤** - –æ—Ç—á–µ—Ç –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–Ω—ã—Ö –±–∞–∑
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –õ–æ–≥–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```bash
# –û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
tail -f /var/log/ubuntu-setup.log

# SSH –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
tail -f /var/log/ssh-detailed.log

# –û—Ç—á–µ—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
ls /var/log/security-report-*.log

# –°—Ç–∞—Ç—É—Å Fail2Ban
sudo fail2ban-client status

# –°—Ç–∞—Ç—É—Å UFW
sudo ufw status verbose
```

### –í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
```bash
/root/setup-report-YYYYMMDD-HHMMSS.txt    # –û—Ç—á–µ—Ç –æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
/root/USERNAME_credentials.txt            # –ü–∞—Ä–æ–ª—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
/root/config-backup-YYYYMMDD-HHMMSS/      # –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏
/var/log/ubuntu-setup.log                 # –õ–æ–≥ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
```

## üõ°Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ SSH –≤ –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
ssh username@server-ip -p SSH_PORT

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞
sudo ufw status verbose

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ Fail2Ban
sudo fail2ban-client status

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤
sudo ss -tulnp | grep LISTEN

# 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
sudo systemctl list-units --type=service --state=active

# 6. –ê—É–¥–∏—Ç SSH
sudo ./ssh-hardening.sh audit

# 7. –°—Ç–∞—Ç—É—Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
sudo ./security-firewall.sh status
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞—É–¥–∏—Ç
```bash
# –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ –∞—É–¥–∏—Ç–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
sudo ./security-firewall.sh audit

# –ü—Ä–æ–≤–µ—Ä–∫–∞ SSH –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo ./ssh-hardening.sh audit
```

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**1. –ù–µ –º–æ–≥—É –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –ø–æ SSH –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç SSH
sudo grep "Port" /etc/ssh/sshd_config

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ UFW –ø—Ä–∞–≤–∏–ª–∞
sudo ufw status | grep SSH_PORT

# –í—Ä–µ–º–µ–Ω–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç
sudo ufw allow 22/tcp
```

**2. Fail2Ban –±–ª–æ–∫–∏—Ä—É–µ—Ç –º–æ–π IP**
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ IP
sudo fail2ban-client status sshd

# –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å IP
sudo fail2ban-client set sshd unbanip YOUR_IP
```

**3. –û—à–∏–±–∫–∏ –≤ SSH –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo sshd -t

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
sudo cp /etc/ssh/sshd_config.backup /etc/ssh/sshd_config
sudo systemctl restart ssh
```

### –û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
sudo cp /root/config-backup-*/sshd_config /etc/ssh/
sudo cp /root/config-backup-*/ufw.conf /etc/ufw/
sudo systemctl restart ssh ufw
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç—á–µ—Ç—ã

### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
- **–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –æ—Ç—á–µ—Ç—ã** - `/var/log/security-report-*.log`
- **SSH –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** - `/var/log/ssh-detailed.log`
- **Fail2Ban –ª–æ–≥–∏** - `/var/log/fail2ban.log`
- **UFW –ª–æ–≥–∏** - `/var/log/ufw.log`

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
echo "your-email@domain.com" | sudo tee /etc/aliases
sudo newaliases

# –¢–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
echo "Test security alert" | mail -s "Test Alert" root
```

## üéÅ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ–±–ª–∞—á–Ω—ã–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
- **Cloud-init** —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- **Terraform** –º–æ–¥—É–ª–∏
- **Ansible** –ø–ª–µ–π–±—É–∫–∏
- **Docker** –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

### –†–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏ –ø–ª–∞–≥–∏–Ω—ã
- **VPN –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** (WireGuard/OpenVPN)
- **–í–µ–±-—Å–µ—Ä–≤–µ—Ä** –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (Nginx/Apache)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (MySQL/PostgreSQL)
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã** (Docker/Kubernetes)

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **–û–°**: Ubuntu 20.04 LTS –∏–ª–∏ –Ω–æ–≤–µ–µ
- **RAM**: 1 GB (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 2 GB)
- **–î–∏—Å–∫**: 10 GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **–°–µ—Ç—å**: –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–∞–∫–µ—Ç–æ–≤

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–µ—Ä—Å–∏–∏ Ubuntu
- ‚úÖ Ubuntu 20.04 LTS (Focal Fossa)
- ‚úÖ Ubuntu 22.04 LTS (Jammy Jellyfish)
- ‚úÖ Ubuntu 24.04 LTS (Noble Numbat)

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –ø–æ–º–æ—â—å

### –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏
```bash
# –°–ø—Ä–∞–≤–∫–∞ –ø–æ —Å–∫—Ä–∏–ø—Ç–∞–º
./setup-wizard.sh help
./ssh-hardening.sh help
./security-firewall.sh help

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
sudo tail -f /var/log/ubuntu-setup.log
```

### –°–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö
–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –ø—Ä–∏–ª–æ–∂–∏—Ç–µ:
1. –í–µ—Ä—Å–∏—é Ubuntu (`lsb_release -a`)
2. –õ–æ–≥–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (`/var/log/ubuntu-setup.log`)
3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é SSH (`sudo sshd -T`)
4. –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤ (`sudo systemctl status ssh ufw fail2ban`)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è.

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Å–∫—Ä–∏–ø—Ç–æ–≤
```bash
# –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏
wget -O update-check.sh https://raw.githubusercontent.com/your-repo/update-check.sh
chmod +x update-check.sh
./update-check.sh
```

## üí° –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Å–∫—Ä–∏–ø—Ç–æ–≤
1. **–°–æ–∑–¥–∞–π—Ç–µ —Å–Ω–∞–ø—à–æ—Ç** —Å–µ—Ä–≤–µ—Ä–∞ (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)
2. **–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ SSH –∫–ª—é—á–∏** –∑–∞—Ä–∞–Ω–µ–µ
3. **–ó–∞–ø–∏—à–∏—Ç–µ —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** —Å–µ—Ç–∏
4. **–£–±–µ–¥–∏—Ç–µ—Å—å –≤ –Ω–∞–ª–∏—á–∏–∏ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞**

### –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** –≤ –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
2. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
4. **–°–æ–∑–¥–∞–π—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è**

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
1. **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ** —Å–∏—Å—Ç–µ–º—É
2. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏** –Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
3. **–ü—Ä–æ–≤–æ–¥–∏—Ç–µ –∞—É–¥–∏—Ç** –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
4. **–û–±–Ω–æ–≤–ª—è–π—Ç–µ SSH –∫–ª—é—á–∏** –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏

---

**üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞**: –ü—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Ubuntu Server –∏–∑ –º–Ω–æ–≥–æ—á–∞—Å–æ–≤–æ–π —Ä—É—Ç–∏–Ω—ã –≤ –±—ã—Å—Ç—Ä—É—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø—Ä–æ—Ü–µ–¥—É—Ä—É —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º —É—Ä–æ–≤–Ω–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

**‚è±Ô∏è –≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏**: –û—Ç 2-3 —á–∞—Å–æ–≤ —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ 15-30 –º–∏–Ω—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏.

**üõ°Ô∏è –£—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**: Enterprise-grade –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏–∑ –∫–æ—Ä–æ–±–∫–∏.

---

*–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤*
